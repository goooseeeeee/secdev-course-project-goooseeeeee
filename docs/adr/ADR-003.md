# ADR-003: Secrets and configuration management

## Context
На момент анализа в коде и .env файлах хранятся чувствительные данные (API keys, access tokens).
Это повышает риск утечек при публикации репозитория или взломе окружения.

Покрывает STRIDE угрозы:
- I (Information Disclosure),
- E (Elevation of Privilege).

Связанные риски:
- R3 (утечка PII),
- R11 (утечка или устаревание секретов).

## Decision
- Переносим хранение секретов в Vault (или аналоги, если Vault недоступен — env vars в CI/CD).
- Ротация секретов каждые 30 дней.
- В коде запрещено хардкодить токены и ключи.
- В логах — маскирование секретов.
- Добавляем статический анализ в CI (secret scan).

## Consequences
**Плюсы:**
- Минимизация риска утечек.
- Соответствие NFR-07.
- Централизованное управление доступами.

**Минусы:**
- Потребуется настройка CI/CD.
- Сложнее отлаживать локально.

## Links
- NFR-07 — Управление секретами
- RISKS: R3, R11
- STRIDE: I (Information Disclosure), E (Elevation of Privilege)
- F#: F2 (Backend → Wishlist Logic)
